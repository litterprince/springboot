<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>登陆</title>
    <link rel="stylesheet" type="text/css" href="../login/css.css">
    <link rel="stylesheet" type="text/css" href="../login/login.css">
    <style type="text/css">
        body,td,th { font-family: "Source Sans Pro", sans-serif; }
        body { background-color: #2B2B2B; }
    </style>
</head>
<body>
<div class="wrapper">

    <div class="container">
        <h1>Welcome</h1>
        <form class="form">
            <input type="text" id="userName" placeholder="账号">
            <input type="password" id="password" placeholder="密码">
            <button type="submit" id="login-button">登陆</button>
        </form>
    </div>

    <ul class="bg-bubbles">
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
    </ul>

</div>
<script th:src="@{jquery-3.2.1.js}" type="text/javascript"></script>
<script th:inline="javascript">
    $('#login-button').click(function(event){
        event.preventDefault();
        $.ajax({
            url:"/main",
            type:"post",
            data:{
                "userName":$("#userName").val(),
                "password":$("#password").val()
            },
            dataType:"json",
            success:function(data){
                if(data.result == "1"){
                    window.location.href = "/index";
                }else{
                    alert("登陆失败！");
                }
            },error : function(data) {
                alert("错误！");
            }
        });
    });
</script>
</body>
</html>